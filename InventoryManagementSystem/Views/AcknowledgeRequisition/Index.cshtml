@model  IEnumerable<InventoryManagementSystem.Domain.InRequisitionMessageVM>
@{
    ViewBag.Title = "Acknowledge Requisition";
}
<div class="box box-primary">
    <div class="box-header with-border">
        <div class="box-title"><i class="fa fa-list"></i> Acknowledge Requisition </div>
        <div class="box-tools pull-right">
            <button class="btn btn-box-tool" type="button" data-widget="collapse">
                <i class="fa fa-minus"></i>
            </button>
        </div>
    </div>
    <div class="box-body tablefont" style="overflow:auto">
        <table class="table table-bordered noDataTable">
            <thead class="thead-dark">
                <tr>
                    @*<th>Dispatch. Id</th>*@
                    <th>Req. No</th>
                    <th>Requested <br /> By</th>
                    <th>Requested <br />Branch</th>
                    <th>Requested <br /> Dept.</th>
                    <th>Dispatched <br /> By</th>
                    <th>Dispatched <br /> Date</th>
                    <th>Dispatched <br /> Branch</th>
                    <th>Acknowledge</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        @*<td>
                                @Html.DisplayFor(model => item.dispatchedid)
                            </td>*@
                        <td>
                            @Html.DisplayFor(model => item.Req_no)
                        </td>
                        <td>
                            @Html.DisplayFor(model => item.RequestedBy)
                        </td>
                        <td>
                            @Html.DisplayFor(model => item.RequestingBranch)
                        </td>
                        <td>
                            @Html.DisplayFor(model => item.RequestingDepartment)
                        </td>
                        <td>
                            @Html.DisplayFor(model => item.DispatchedBy)
                        </td>
                        <td>
                            @Html.DisplayFor(model => item.Delivered_Date)
                        </td>
                        <td>
                            @Html.DisplayFor(model => item.ForwardedBranch)
                        </td>
                        <td>
                            <a href="@Url.Action("ViewDispatched","AcknowledgeRequisition",new { id=item.id})" class="btn btn-xs btn-info" title="View"><i>View</i></a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<script>
    //$('.table').on('search.dt', function () {
    //    var record = ''
    //    record = $('.dataTables_filter input').val();
    //    localStorage.setItem('record', record);
    //});

    $(document).ready(function () {
        //$.fn.dataTableExt.sErrMode = 'throw';
        //var data = localStorage.getItem('record');
        //if (data != '') {
        //    $('.table').dataTable({
        //        "oSearch": { "sSearch": data }
        //    });
        //}
        $('.table').DataTable({
            "order": [[5, 'desc']],
            "pageLength": 25
        });
    });
</script>
